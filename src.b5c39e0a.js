parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"H99C":[function(require,module,exports) {
function e(e){return i(e)||n(e)||r(e)||t()}function t(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}function n(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function i(e){if(Array.isArray(e))return o(e)}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),e}var c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,t),this.modal=null,this.groupItems=null,this.preview=e.preview||!0,this.overflow=e.overflow||!0,this.arrowLeft=e.arrowLeft||"",this.arrowRight=e.arrowRight||"",this.items=document.querySelectorAll("[data-lb-item]"),this.items.length>0&&this.init()}return s(t,[{key:"init",value:function(){var e=this;this.renderModal(),this.items.forEach(function(t){t.addEventListener("click",function(){return e.itemHandler(t)})}),document.addEventListener("keydown",function(t){"Escape"===t.code&&e.modal.classList.contains("active")&&e.modalClose()})}},{key:"itemHandler",value:function(e){if(!this.modal)return!1;e.dataset.lbItemGroup&&""!==e.dataset.lbItemGroup?this.renderGroupItems(e):this.renderItem(e)}},{key:"renderModal",value:function(){document.querySelector("body").insertAdjacentHTML("beforeend",'\n\t\t <div class="modal-lb">\n\t\t\t <div class="modal-lb__inner">\n\t\t\t     \x3c!-- modal item --\x3e\n\t\t\t\t <div class="modal-lb__item-wrap"></div>\n\t\t\t\t \n\t\t\t\t \x3c!-- modal footer --\x3e\n\t\t\t\t <div class="modal-lb__footer">\n\t\t\t\t     \x3c!-- description --\x3e\n\t\t\t\t    <div class="modal-lb__item-desc"></div>\n\t\t\t\t </div>\n\t\t\t\t \n\t\t\t\t\n\t\t\t </div>\n\t\t\t \n\t\t\t\x3c!-- close button --\x3e\n\t\t\t<div class="modal-lb__close modal-lb__close-btn">&times</div>\n\t\t\t\t \n\t\t\t \x3c!-- close background --\x3e\n\t\t\t <div class="modal-lb__close modal-lb__close-bg"></div>\n\t\t </div>\n\t\t'),this.modal=document.querySelector(".modal-lb"),this.modalClose()}},{key:"renderGroupItems",value:function(t){var r=t.dataset.lbItemGroup,n=e(this.items),i=0;this.groupItems=n.reduce(function(e,t){return t.dataset.lbItemGroup===r&&(t.dataset.lbItemIndex="".concat(i),e.push(t),i++),e},[]),this.renderItem(t),this.renderNextPrev(),this.renderPreview()}},{key:"renderItem",value:function(e){var t={tagName:e.tagName.toLowerCase(),name:e.dataset.lbItemName||!1,description:e.dataset.lbItemDesc||!1,src:e.dataset.lbItemSrc||!1,group:e.dataset.lbItemGroup||!1,index:e.dataset.lbItemIndex||!1},r=this.createEl(t.tagName,t.src,t.index,["modal-lb__item"]),n=document.querySelector(".modal-lb__item-wrap");this.renderDescription(t),n.innerHTML="",n.insertAdjacentElement("afterbegin",r),this.modalShow(t),this.itemEvents(r)}},{key:"renderDescription",value:function(e){var t=this.modal.querySelector(".modal-lb__item-desc");t.innerHTML="",e.name&&t.insertAdjacentHTML("afterbegin",' <div class="modal-lb__item-desc-title">'.concat(e.name,"</div>")),e.description&&t.insertAdjacentHTML("beforeend",' <div class="modal-lb__item-desc-text">'.concat(e.description,"</div>"))}},{key:"renderPreview",value:function(){if(this.preview){var e=this.groupItems,t=this.modal.querySelector(".modal-lb__footer");this.removePreview();var r=e.map(function(e,t){return'<div class="modal-lb__preview-item" data-lb-preview-index="'.concat(t,'" style="background-image:url(\'').concat(e.src,"')\"></div>")}).join(""),n='<div class="modal-lb__preview">'.concat(r,"</div>");t.insertAdjacentHTML("beforeend",n),this.switchActivePreview(),this.previewHandler(),this.scrollToActivePreview()}}},{key:"switchActivePreview",value:function(){if(this.preview){var e=this.modal.querySelectorAll(".modal-lb__preview-item"),t=this.modal.querySelector("[data-lb-current-item-index]").dataset.lbCurrentItemIndex;e.forEach(function(e){return e.classList.remove("active")});var r=this.modal.querySelector('[data-lb-preview-index="'.concat(t,'"]'));r.classList.add("active"),r.scrollIntoView({behavior:"smooth",inline:"center"})}}},{key:"previewHandler",value:function(){var e=this,t=this.groupItems,r=this.modal.querySelector(".modal-lb__preview");r.querySelectorAll(".modal-lb__preview-item").forEach(function(r){return r.addEventListener("click",function(){if(!r.classList.contains("active")){var n=r.dataset.lbPreviewIndex;e.renderItem(t[n]),e.switchActivePreview()}})}),r.clientWidth+80<r.scrollWidth&&(r.style.justifyContent="start",this.previewEvents(r))}},{key:"removePreview",value:function(){var e=this.modal.querySelector(".modal-lb__footer").querySelector(".modal-lb__preview");e&&e.remove()}},{key:"renderNextPrev",value:function(){var e=this,t=""===this.arrowLeft?"&#x203a;":this.arrowLeft,r=""===this.arrowRight?"&#x2039;":this.arrowRight,n=this.createEl("div",!1,!1,["modal-lb__nav","modal-lb__item-next"]);n.addEventListener("click",function(){return e.nextPrevHandler("next")}),n.innerHTML=t,this.modal.insertAdjacentElement("beforeend",n);var i=this.createEl("div",!1,!1,["modal-lb__nav","modal-lb__item-prev"]);i.addEventListener("click",function(){return e.nextPrevHandler("prev")}),i.innerHTML=r,this.modal.insertAdjacentElement("beforeend",i)}},{key:"removeNextPrev",value:function(){var e=this.modal.querySelectorAll(".modal-lb__nav");e.length>0&&e.forEach(function(e){return e.remove()})}},{key:"nextPrevHandler",value:function(e){var t=this.groupItems,r=+this.modal.querySelector(".modal-lb__item").dataset.lbCurrentItemIndex;"prev"===e&&(r+1<=t.length&&0!==r?this.renderItem(t[r-1]):this.renderItem(t[t.length-1])),"next"===e&&(r+1<t.length?this.renderItem(t[r+1]):this.renderItem(t[0])),this.switchActivePreview()}},{key:"createEl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=document.createElement("".concat(e));return t&&i.setAttribute("src","".concat(t)),r&&(i.dataset.lbCurrentItemIndex=r),n.length>0&&n.forEach(function(e){return i.classList.add(e)}),i}},{key:"modalShow",value:function(){this.modal&&(this.modal.classList.add("active"),this.overflow&&(document.querySelector("body").style.overflow="hidden"))}},{key:"modalClose",value:function(){var e=this;this.modal&&(this.modal.querySelectorAll(".modal-lb__close").forEach(function(t){return t.addEventListener("click",function(){e.reset()})}),this.reset())}},{key:"reset",value:function(){this.modal.classList.remove("active"),this.modal.classList.remove("clear"),this.removeNextPrev(),this.removePreview(),this.groupItems=null,this.overflow&&(document.querySelector("body").style.overflow="auto")}},{key:"itemEvents",value:function(e){var t,r=this;e.addEventListener("click",function(){r.modal.classList.toggle("clear")});var n=null;e.addEventListener("touchstart",function(e){var r=function(e){return e.touches||e.originalEvent.touches}(e)[0];n=r.clientX,t=r.clientX},!1),e.addEventListener("touchmove",function(e){e.preventDefault();var i=e.touches[0].clientX;if(n){var o=e.touches[0].clientX,a=n-o;i+100<t&&(a>0&&r.nextPrevHandler("next"),n=null),i-t>100&&(a<0&&r.nextPrevHandler("prev"),n=null)}},!1)}},{key:"previewEvents",value:function(e){var t,r,n=!1;e.addEventListener("wheel",function(t){e.scrollLeft+=t.deltaY,r=e.scrollLeft}),e.addEventListener("mousedown",function(i){n=!0,r=i.pageX,t=e.scrollLeft}),e.addEventListener("mouseleave",function(){n=!1}),e.addEventListener("mouseup",function(e){n=!1}),e.addEventListener("mousemove",function(i){if(n){i.preventDefault();var o=3*(i.pageX-r);e.scrollLeft=t-o}},!0)}},{key:"scrollToActivePreview",value:function(){var e=this.modal.querySelector(".modal-lb__preview"),t=e.querySelector(".modal-lb__preview-item.active");e.scrollLeft=t.offsetLeft-.111*e.scrollWidth}}]),t}(),d={preview:!0,overflow:!0,arrowLeft:"ðŸ‘‰",arrowRight:"ðŸ‘ˆ"};new c(d);
},{}]},{},["H99C"], null)
//# sourceMappingURL=/csb-hm1jl/src.b5c39e0a.js.map